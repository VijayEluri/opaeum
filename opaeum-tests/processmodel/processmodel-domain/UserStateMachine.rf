<?xml version="1.0" encoding="UTF-8"?> 
<process xmlns="http://drools.org/drools-5.0/process"
         xmlns:xs="http://www.w3.org/2001/XMLSchema-instance"
         xs:schemaLocation="http://drools.org/drools-5.0/process drools-processes-5.0.xsd"
         type="RuleFlow" name="user_user_state_machine" id="user_user_state_machine" package-name="com.rorotika.cm.user.User" version="0.0" >

  <header>
    <variables>
      <variable name="processObject" >
        <type name="org.drools.process.core.datatype.impl.type.ObjectDataType" className="com.rorotika.cm.user.user.UserStateMachine" />
      </variable>
    </variables>
  </header>

  <nodes>
    <state id="2" name="inactive" x="150" y="150" width="100" height="50" >
    </state>
    <end id="3" name="inactive_end" x="200" y="200" width="100" height="50" terminate="false" />
    <state id="4" name="active" x="250" y="250" width="100" height="50" >
    </state>
    <start id="5" name="initial" x="300" y="300" width="100" height="50" />
    <state id="6" name="deactivating" x="350" y="350" width="100" height="50" >
      <onEntry>
        <action type="expression" dialect="mvel" >processObject.fireTimersForDeactivating()</action>
      </onEntry>
      <onExit>
        <action type="expression" dialect="mvel" >processObject.cancelTimersForDeactivating()</action>
      </onExit>
    </state>
    <split id="7" name="Gateway" x="177" y="52" width="49" height="49" type="3" />
    <join id="8" name="Gateway" x="387" y="95" width="49" height="49" type="4" />
    <subProcess id="9" name="Sub-Process" x="339" y="161" width="110" height="48" >
      <mapping type="in" from="variable" to="variable" />
    </subProcess>
  </nodes>

  <connections>
    <connection from="6" to="2" />
    <connection from="2" to="3" />
    <connection from="5" to="4" />
    <connection from="4" to="6" />
  </connections>

</process>